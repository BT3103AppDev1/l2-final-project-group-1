"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),l={type:Function,required:!1,default:()=>{}},a={padding:0,border:0,margin:0},t={willChange:"height"},u=e.defineComponent({name:"Collapse",inheritAttrs:!0,props:{when:{type:Boolean,required:!0},baseHeight:{type:Number,required:!1,default:0},as:{type:String,required:!1,default:"div"},onExpand:l,onExpanded:l,onCollapse:l,onCollapsed:l},setup(l,{slots:u}){const o=e.toRef(l,"when"),r=e.toRef(l,"baseHeight"),i=e.computed((()=>{const e={overflow:"hidden",height:`${r.value}px`};return{visible:e,collapsed:{...a,...0===r.value?{display:"none"}:e}}})),v=e.ref(null),s=e.ref(o.value?a:i.value.collapsed),d=e.ref(o.value?"expanded":"collapsed");function p(e){var t,u;e.target===v.value&&"height"===e.propertyName&&(o.value?(null==(t=v.value)?void 0:t.scrollHeight)===parseFloat(e.target.style.height)&&(s.value=a,d.value="expanded",l.onExpanded()):(null==(u=v.value)?void 0:u.style.height)===`${r.value}px`&&(s.value=i.value.collapsed,d.value="collapsed",l.onCollapsed()))}return e.watch(o,(e=>{requestAnimationFrame((()=>{var u;e?(s.value={...a,...t,...i.value.visible},requestAnimationFrame((()=>{var e;s.value={...s.value,...n(null==(e=v.value)?void 0:e.scrollHeight,r.value)},d.value="expanding",l.onExpand()}))):(s.value={...s.value,...t,...n(null==(u=v.value)?void 0:u.scrollHeight,r.value)},requestAnimationFrame((()=>{s.value={...s.value,...i.value.visible},d.value="collapsing",l.onCollapse()})))}))})),e.watch(r,(e=>{o.value||(s.value={...s.value,transitionDuration:"0s",height:`${e}px`})})),()=>{var a;return e.h(l.as,{ref:e=>v.value=e,style:s.value,onTransitionend:p,"data-collapse":d.value},null==(a=u.default)?void 0:a.call(u,{state:d.value}))}}});function n(e=0,l=0){return{"--vc-auto-duration":`${o(e-l)}ms`,height:`${e}px`}}function o(e=0){if(0===e)return 0;const l=e/36;return Math.round(10*(4+15*l**.25+l/5))}exports.Collapse=u;
